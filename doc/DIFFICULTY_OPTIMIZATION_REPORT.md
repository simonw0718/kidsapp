# 關卡難度優化 - 實施報告

## 已完成的修改

### 難度參數對比

| 難度 | 步數範圍 | 障礙物數量 | 湖泊數量 | 跳躍需求 |
|------|---------|-----------|---------|---------|
| **簡單 (Easy)** | | | | |
| 修改前 | 3-6 步 | 1-3 個 | 0 個 | 0 次 |
| 修改後 | **3-5 步** | **0-2 個** | 0 個 | 0 次 |
| **中等 (Medium)** | | | | |
| 修改前 | 5-8 步 | 1-3 個 | 0-1 個 | 1 次 |
| 修改後 | **6-10 步** | **3-5 個** | **1-2 個** | 1 次 |
| **困難 (Hard)** | | | | |
| 修改前 | 8-12 步 | 2-4 個 | 1-2 個 | 2 次 |
| 修改後 | **11-18 步** | **6-10 個** | **2-4 個** | 2 次 |

### 關鍵改進

#### 1. 消除步數重疊
- ✅ 簡單：3-5 步
- ✅ 中等：6-10 步（無重疊）
- ✅ 困難：11-18 步（無重疊）

#### 2. 拉大障礙物密度差距
- ✅ 簡單：0-2 個（降低）
- ✅ 中等：3-5 個（提升 2-3 倍）
- ✅ 困難：6-10 個（提升 3-5 倍）

#### 3. 增加湖泊挑戰
- ✅ 簡單：無湖泊（保持簡單）
- ✅ 中等：1-2 個湖泊（增加）
- ✅ 困難：2-4 個湖泊（翻倍）

## 預期效果

### 視覺差異
- **簡單關卡**：空曠、清晰的路徑
- **中等關卡**：適度擁擠、需要規劃
- **困難關卡**：密集障礙、迷宮感

### 遊戲體驗
- **簡單**：新手友好，快速完成
- **中等**：需要思考，多次嘗試
- **困難**：高度挑戰，策略規劃

### 完成時間估計
- **簡單**：30-60 秒
- **中等**：1-3 分鐘（2-3 倍）
- **困難**：3-8 分鐘（5-10 倍）

## 修改的檔案

- [levelTemplates.ts](file:///Users/simonwang/Projects/KidsApp/kidapp/src/features/animal-commands/data/levelTemplates.ts)
  - 更新了 15 個模板的 `difficultyParams`
  - 5 個 Easy 模板
  - 5 個 Medium 模板
  - 5 個 Hard 模板

## 測試建議

### 測試步驟
1. 啟動遊戲
2. 選擇「自由練習」模式
3. 分別測試三個難度：
   - Easy：應該感覺簡單、快速
   - Medium：應該需要思考
   - Hard：應該具有挑戰性

### 驗證指標
- [ ] Easy 關卡在 1 分鐘內完成
- [ ] Medium 關卡需要 2-3 次嘗試
- [ ] Hard 關卡需要 5+ 次嘗試
- [ ] 視覺上能明顯區分難度
- [ ] 所有關卡都可解

## 下一步

### 階段 2：路徑複雜度計算（建議）
1. 實現路徑複雜度分數計算
2. 添加難度驗證機制
3. 確保生成的關卡符合目標難度範圍

### 階段 3：擴展模板庫（可選）
1. 為每個難度添加 10 個新模板
2. 引入不同的關卡模式（迷宮、島嶼等）
3. 增加關卡多樣性
