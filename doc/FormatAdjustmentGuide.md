# æ ¼å¼èª¿æ•´æŒ‡å— (Format Adjustment Guide)

æœ¬æŒ‡å—èªªæ˜å¦‚ä½•èª¿æ•´ KidsApp ä¸­å„å€‹éŠæˆ²æ¨¡çµ„çš„æ ¼å¼ã€æ¨£å¼èˆ‡åƒæ•¸ã€‚

## 1. åœ–ç‰‡é…å°éŠæˆ² (Picture Match)

### æª”æ¡ˆä½ç½®ï¼š`src/features/picture-match`

#### 1.1 æ¨£å¼è¡¨ (`picture-match.css`)

æ­¤æª”æ¡ˆæ§åˆ¶å¤§éƒ¨åˆ†çš„è¦–è¦ºå‘ˆç¾ã€‚

*   **éŠæˆ²ç‰ˆé¢é…ç½®**
    *   `.pm-game-container`: èª¿æ•´æ•´é«”éŠæˆ²å®¹å™¨çš„å…§è· (`padding`) èˆ‡å°é½Šæ–¹å¼ã€‚
    *   `.pm-card-grid`: èª¿æ•´é¸é …å¡ç‰‡çš„ç¶²æ ¼æ’åˆ— (`grid-template-columns`) èˆ‡é–“è· (`gap`)ã€‚

*   **é¡Œç›®é¡¯ç¤º (Stimulus)**
    *   `.pm-stimulus-card`: èª¿æ•´é¡Œç›®å¡ç‰‡çš„å…§è· (`padding`)ã€åœ“è§’ (`border-radius`) èˆ‡é™°å½± (`box-shadow`)ã€‚
    *   `.pm-stimulus-label`: èª¿æ•´ã€Œè½éŸ³è¾¨åœ–/çœ‹å­—è¾¨åœ–ã€æç¤ºæ–‡å­—çš„å¤§å° (`font-size`) èˆ‡é¡è‰² (`color`)ã€‚

*   **é¸é …å¡ç‰‡ (Image Card)**
    *   `.pm-card-grid`: æ§åˆ¶å¡ç‰‡ä¹‹é–“çš„é–“è·ã€‚

*   **å…¥å£é é¢ (Entry Page)**
    *   `.pm-entry-container`: èª¿æ•´å…¥å£é é¢çš„æ•´é«”é–“è·ã€‚
    *   `.pm-entry-title`: èª¿æ•´æ¨™é¡Œæ–‡å­—å¤§å°èˆ‡è·é›¢ã€‚
    *   `.pm-entry-options`: **[é‡è¦]** æ§åˆ¶æ¨¡å¼é¸æ“‡æŒ‰éˆ•çš„æ’åˆ—æ–¹å¼ã€‚
        *   é è¨­ (æ¡Œé¢): 2x2 ç¶²æ ¼æ’åˆ—
        *   ç›´å¼ (æ‰‹æ©Ÿ/å¹³æ¿): 2x2 ç¶²æ ¼æ’åˆ—ï¼Œ`gap: 16px`
        *   æ©«å¼ (æ‰‹æ©Ÿ/å¹³æ¿): 1x3 å–®è¡Œæ’åˆ—ï¼Œ`gap: 12px`ï¼Œä½¿ç”¨ `aspect-ratio` å’Œ `max-height: 50vh` é˜²æ­¢é‡ç–Š
    *   `.pm-entry-btn`: **[é‡è¦]** èª¿æ•´æ¨¡å¼é¸æ“‡æŒ‰éˆ•çš„å°ºå¯¸ã€‚
        *   é è¨­: `width: 280px`, `height: 280px`
        *   ç›´å¼: `aspect-ratio: 1`, `max-width: 180px`
        *   æ©«å¼: `aspect-ratio: 1`, `max-height: 50vh`
        *   `.pm-entry-btn--english`: è‹±æ–‡æ¨¡å¼é¡è‰² (ç¶ è‰²)ã€‚
        *   `.pm-entry-btn--zhuyin`: æ³¨éŸ³æ¨¡å¼é¡è‰² (æ©˜è‰²)ã€‚
        *   `.pm-entry-btn--dinosaur`: æé¾æ¨¡å¼é¡è‰² (ç´«è‰²)ã€‚
    
    *   **Ready Go åœ–ç‰‡ (é–‹å ´å‹•ç•«)**
        *   `.pm-start-image`: **[é‡è¦]** èª¿æ•´é–‹å ´åœ–ç‰‡çš„å¤§å° (`max-width`)ã€‚
            *   é è¨­ (æ¡Œé¢/å¹³æ¿): `400px`
            *   æ‰‹æ©Ÿç›´å‘: `280px` (ä½æ–¼ `@media (max-width: 480px)` å€å¡Šå…§)

#### 1.2 ç¨‹å¼ç¢¼çµ„ä»¶

*   **`components/StimulusDisplay.tsx`**
    *   **é¡Œç›®å­—é«”å¤§å°**: åœ¨ç¬¬ 21 è¡Œçš„ `style` å±¬æ€§ä¸­èª¿æ•´ `fontSize`ã€‚
        *   **è‹±æ–‡/æé¾æ¨¡å¼**: ç›®å‰è¨­å®šç‚º `3rem`ï¼ˆä¹‹å‰ç‚º `4rem`ï¼‰
        *   **æ³¨éŸ³æ¨¡å¼**: ç›®å‰è¨­å®šç‚º `3rem`ï¼Œç”± `ZhuyinWord` çµ„ä»¶æ§åˆ¶
        *   **èª¿æ•´æ–¹å¼**: ä¿®æ”¹ `fontSize: isEnglishOrDino ? '3rem' : '3rem'` ä¸­çš„æ•¸å€¼
            *   æ›´å¤§å­—é«”ï¼šä½¿ç”¨ `4rem`ã€`5rem` ç­‰
            *   æ›´å°å­—é«”ï¼šä½¿ç”¨ `2rem`ã€`2.5rem` ç­‰

*   **`components/ImageCard.tsx`**
    *   **å¡ç‰‡èƒŒæ™¯è‰²**: `getBackgroundColor` å‡½æ•¸å®šç¾©äº†æ­£ç¢º (`#D4EDDA`) èˆ‡éŒ¯èª¤ (`#F8D7DA`) çš„èƒŒæ™¯é¡è‰²ã€‚
    *   **å¡ç‰‡æ¯”ä¾‹**: `style` ä¸­çš„ `aspectRatio` æ§åˆ¶å¡ç‰‡å½¢ç‹€ (ç›®å‰ç‚º `'1'` æ­£æ–¹å½¢)ã€‚
    *   **åœ–ç‰‡å¤§å°**: `img` æ¨™ç±¤çš„ `style` ä¸­ï¼Œ`width` å’Œ `height` æ§åˆ¶åœ–ç‰‡åœ¨å¡ç‰‡ä¸­çš„ä½”æ¯” (ç›®å‰ç‚º `80%`)ã€‚
    *   **Emoji å¤§å°**: ç•¶æ²’æœ‰åœ–ç‰‡æ™‚ï¼ŒEmoji çš„ `fontSize` (ç›®å‰ç‚º `5rem`)ã€‚
    *   **ç¿»ç‰Œå‹•ç•« (è‹±æ–‡æ¨¡å¼å°ˆç”¨)**:
        *   **ç¿»ç‰Œé€Ÿåº¦**: åœ¨ `transition` ä¸­èª¿æ•´ `transform 0.6s`ï¼Œæ•¸å€¼è¶Šå¤§ç¿»ç‰Œè¶Šæ…¢
        *   **èƒŒé¢èƒŒæ™¯è‰²**: `.pm-card-face--back` çš„ `backgroundColor: '#FFF9E6'` (æ·¡é»ƒè‰²)
        *   **èƒŒé¢åœ“è§’**: `.pm-card-face--back` çš„ `borderRadius: '24px'`
        *   **ç¿»ç‰Œå¾Œå­—é«”å¤§å°**: `.pm-card-face--back` çš„ `fontSize: '3rem'` (ç¬¬ 111 è¡Œ)
            *   **èª¿æ•´æ–¹å¼**: ä¿®æ”¹ `'3rem'` ç‚ºå…¶ä»–æ•¸å€¼
            *   æ›´å¤§å­—é«”ï¼š`'4rem'`ã€`'5rem'`
            *   æ›´å°å­—é«”ï¼š`'2rem'`ã€`'2.5rem'`
            *   æ­¤åƒæ•¸æ§åˆ¶ç¿»ç‰Œå¾Œåœ‹å­—èˆ‡æ³¨éŸ³çš„æ•´é«”å¤§å°

*   **`components/ZhuyinWord.tsx`** (ç¿»ç‰ŒèƒŒé¢é¡¯ç¤ºçš„ä¸­æ–‡+æ³¨éŸ³)
    *   **å­—èˆ‡å­—ä¹‹é–“çš„é–“è·**: ç¬¬ 23 è¡Œ `gap: '20px'`
        *   èª¿æ•´æ–¹å¼ï¼šä¿®æ”¹ `'20px'` ç‚ºå…¶ä»–æ•¸å€¼ï¼Œå¦‚ `'15px'`ã€`'25px'`
    *   **å°é½Šæ–¹å¼**: ç¬¬ 24 è¡Œ `alignItems: 'baseline'`
        *   `baseline`: åœ‹å­—èˆ‡æ³¨éŸ³åŸºç·šå°é½Š
        *   `center`: å‚ç›´ç½®ä¸­å°é½Š

#### 1.3 æ³¨éŸ³ç¬¦è™Ÿæ¨£å¼ (BpmWord)

**æª”æ¡ˆä½ç½®**: `src/core/layout/layout.css` (ç¬¬ 261-319 è¡Œ)

*   **åœ‹å­—å¤§å°**: `.bpm-main-char`
    *   `font-size: 1em` - è·Ÿéš¨çˆ¶å±¤å­—é«”å¤§å°
    *   `font-weight: 700` - å­—é«”ç²—ç´°
    *   **èª¿æ•´æ–¹å¼**: ä¿®æ”¹ `font-size` ç‚º `1.2em`ã€`0.9em` ç­‰

*   **æ³¨éŸ³ç¬¦è™Ÿå¤§å°**: `.bpm-column`
    *   `font-size: 0.45em` - æ³¨éŸ³ç¬¦è™Ÿç›¸å°æ–¼åœ‹å­—çš„å¤§å° (ç´„ 45%)
    *   `margin-left: 0.15em` - åœ‹å­—èˆ‡æ³¨éŸ³çš„é–“è·
    *   **èª¿æ•´æ–¹å¼**: 
        *   æ›´å¤§æ³¨éŸ³ï¼šæ”¹ç‚º `0.5em`ã€`0.55em`
        *   æ›´å°æ³¨éŸ³ï¼šæ”¹ç‚º `0.4em`ã€`0.35em`

*   **è²èª¿ç¬¦è™Ÿ (ËŠË‡Ë‹)**: `.bpm-tone`
    *   `font-size: 1.3em` - èª¿è™Ÿå¤§å°
    *   `font-weight: 900` - èª¿è™Ÿç²—ç´°
    *   `color: #d32f2f` - èª¿è™Ÿé¡è‰² (ç´…è‰²)
    *   `right: -0.8em` - èª¿è™Ÿåœ¨æ³¨éŸ³å³å´çš„è·é›¢
    *   **èª¿æ•´æ–¹å¼**:
        *   æ›´å¤§èª¿è™Ÿï¼šæ”¹ `font-size` ç‚º `1.5em`
        *   ä¸åŒé¡è‰²ï¼šæ”¹ `color` ç‚º `#FF5722`ã€`#000` ç­‰
        *   èª¿æ•´ä½ç½®ï¼šæ”¹ `right` ç‚º `-1em`ã€`-0.6em`

*   **è¼•è²ç¬¦è™Ÿ (Ë™)**: `.bpm-tone-dot`
    *   `font-size: 1.3em` - è¼•è²å¤§å°
    *   `font-weight: 900` - è¼•è²ç²—ç´°
    *   `color: #d32f2f` - è¼•è²é¡è‰² (ç´…è‰²)
    *   `top: -1em` - è¼•è²åœ¨æ³¨éŸ³ä¸Šæ–¹çš„è·é›¢

---

## 2. ç ç®—éŠæˆ² (Abacus)

### æª”æ¡ˆä½ç½®ï¼š`src/features/abacus`

#### 2.1 æ¨£å¼è¡¨ (`abacus.css`)

ç ç®—éŠæˆ²å¤§é‡ä½¿ç”¨ CSS è®Šæ•¸ (CSS Variables) ä¾†çµ±ä¸€ç®¡ç†å°ºå¯¸ï¼Œæ–¹ä¾¿èª¿æ•´ã€‚

*   **å…¨åŸŸè®Šæ•¸ (ä½æ–¼ `.abacus-play-layout`)**
    *   `--abacus-question-font-size`: é¡Œç›®æ–‡å­—å¤§å° (ä¾‹å¦‚ 5 + 3 = ?)ã€‚
    *   `--abacus-option-font-size`: é¸é …æŒ‰éˆ•æ–‡å­—å¤§å°ã€‚
    *   `--abacus-next-font-size`: ã€Œä¸‹ä¸€é¡Œã€æŒ‰éˆ•æ–‡å­—å¤§å°ã€‚
    *   `--abacus-total-font-size`: å³ä¸‹è§’ç¸½å’Œé¡¯ç¤ºæ–‡å­—å¤§å°ã€‚
    *   `--abacus-answer-main-char-size`: ç­”æ¡ˆé¡¯ç¤ºå€çš„ä¸»å­—å¤§å°ã€‚
    *   `--bead-size`: **[é‡è¦]** ç®—ç›¤ç å­çš„å¤§å° (ç›´å¾‘)ã€‚
    *   `--bead-gap`: **[æ ¸å¿ƒåƒæ•¸]** ç å­æ»‘å‹•çš„è·é›¢è¨ˆç®—å…¬å¼ã€‚

*   **ç®—ç›¤ç å­ (`.abacus-row-beads`)**
    *   `--bead-gap`: æ§åˆ¶ç å­æ’¥å‹•å¾Œçš„æ°´å¹³ä½ç§»ã€‚
        *   å…¬å¼ï¼š`calc(100cqw - (var(--bead-size) * 13))`
        *   **èª¿æ•´æ–¹å¼**: ä¿®æ”¹ä¹˜æ•¸ `13`ã€‚æ•¸å­—è¶Šå¤§ï¼Œç å­æ’¥å‹•å¾Œé›¢å³é‚Šç•Œè¶Šé  (å¾€å·¦é )ï¼›æ•¸å­—è¶Šå°ï¼Œé›¢å³é‚Šç•Œè¶Šè¿‘ã€‚

*   **ç å­é¡è‰²**
    *   `.abacus-row-color-0` ~ `.abacus-row-color-7`: å®šç¾©æ¯ä¸€æ’ç å­çš„é¡è‰²ã€‚

#### 2.2 ç¨‹å¼ç¢¼çµ„ä»¶

*   **`AbacusPlayPage.tsx`**
    *   ä¸»è¦é‚è¼¯èˆ‡ä½ˆå±€çµæ§‹ï¼Œæ¨£å¼ä¸»è¦ç”± CSS æ§åˆ¶ã€‚

---

## 3. æ³¨éŸ³ç¬¦è™Ÿèª¿è™Ÿè¨­å®š (Zhuyin Tone Marks)

### æª”æ¡ˆä½ç½®ï¼š`src/core/layout/layout.css`

æ³¨éŸ³ç¬¦è™Ÿçš„èª¿è™Ÿï¼ˆË™ËŠË‡Ë‹ï¼‰é¡¯ç¤ºè¨­å®šï¼Œå½±éŸ¿æ•´å€‹ App ä¸­æ‰€æœ‰æ³¨éŸ³çš„èª¿è™Ÿå¤–è§€ã€‚

*   **`.bpm-tone`** - ä¸€èˆ¬èª¿è™Ÿï¼ˆËŠË‡Ë‹ï¼‰
    *   `font-size: 1.3em` - **[èª¿æ•´]** èª¿è™Ÿå¤§å°ï¼ˆç›¸å°æ–¼æ³¨éŸ³ç¬¦è™Ÿï¼‰
    *   `font-weight: 900` - **[èª¿æ•´]** èª¿è™Ÿç²—ç´°ï¼ˆ100-900ï¼Œæ•¸å­—è¶Šå¤§è¶Šç²—ï¼‰
    *   `color: #d32f2f` - **[èª¿æ•´]** èª¿è™Ÿé¡è‰²ï¼ˆç›®å‰ç‚ºç´…è‰²ï¼Œå¯æ”¹ç‚ºå…¶ä»–é¡è‰²å¦‚ `#000` é»‘è‰²ï¼‰
    *   `right: -0.8em` - **[èª¿æ•´]** èª¿è™Ÿèˆ‡æ³¨éŸ³çš„æ°´å¹³é–“è·

*   **`.bpm-tone-dot`** - è¼•è²èª¿è™Ÿï¼ˆË™ï¼‰
    *   `font-size: 1.3em` - **[èª¿æ•´]** è¼•è²å¤§å°
    *   `font-weight: 900` - **[èª¿æ•´]** è¼•è²ç²—ç´°
    *   `color: #d32f2f` - **[èª¿æ•´]** è¼•è²é¡è‰²
    *   `top: -1em` - **[èª¿æ•´]** è¼•è²èˆ‡æ³¨éŸ³çš„å‚ç›´é–“è·

**èª¿æ•´å»ºè­°**ï¼š
*   è‹¥èª¿è™Ÿå¤ªå¤§ï¼šå°‡ `font-size` æ”¹ç‚º `1.1em` æˆ– `1em`
*   è‹¥èª¿è™Ÿå¤ªç²—ï¼šå°‡ `font-weight` æ”¹ç‚º `700` æˆ– `600`
*   è‹¥æƒ³æ”¹é¡è‰²ï¼šä¿®æ”¹ `color` å€¼ï¼ˆä¾‹å¦‚ `#0066cc` è—è‰²ã€`#000000` é»‘è‰²ï¼‰

---

## 4. iOS PWA å®‰å…¨å€åŸŸèˆ‡é‚Šè·è¨­å®š

### æª”æ¡ˆä½ç½®ï¼š`src/core/layout/layout.css`

ç•¶ App ä»¥ PWA æ¨¡å¼åœ¨ iOS ä¸Šé‹è¡Œæ™‚ï¼Œéœ€è¦é¿å…å…§å®¹è¢«ç‹€æ…‹åˆ—ã€ç€æµ·æˆ–åº•éƒ¨æ©«æ¢é®ä½ã€‚

#### 3.1 CSS è®Šæ•¸è¨­å®šï¼ˆä½æ–¼ `:root`ï¼‰

*   **iOS å®‰å…¨å€åŸŸè®Šæ•¸ï¼ˆè‡ªå‹•åµæ¸¬ï¼‰**
    *   `--safe-area-top`: ä¸Šæ–¹å®‰å…¨å€åŸŸï¼ˆç‹€æ…‹åˆ—é«˜åº¦ï¼‰
    *   `--safe-area-bottom`: ä¸‹æ–¹å®‰å…¨å€åŸŸï¼ˆåº•éƒ¨æ©«æ¢é«˜åº¦ï¼‰
    *   `--safe-area-left`: å·¦å´å®‰å…¨å€åŸŸ
    *   `--safe-area-right`: å³å´å®‰å…¨å€åŸŸ
    *   **æ³¨æ„**: é€™äº›è®Šæ•¸æœƒè‡ªå‹•åµæ¸¬ï¼Œé€šå¸¸ä¸éœ€è¦æ‰‹å‹•ä¿®æ”¹

*   **é é¢é‚Šè·è¨­å®šï¼ˆå¯èª¿æ•´ï¼‰**
    *   `--page-padding-top`: **[é‡è¦]** ä¸Šæ–¹é¡å¤–é–“è·ï¼ˆç›®å‰ `12px`ï¼‰
        *   èª¿å¤§ï¼šå…§å®¹é›¢é ‚éƒ¨æ›´é ï¼Œé¿å…è¢«é®ä½
        *   èª¿å°ï¼šå…§å®¹æ›´é è¿‘é ‚éƒ¨ï¼Œç¯€çœç©ºé–“
    *   `--page-padding-horizontal`: **[é‡è¦]** å·¦å³é–“è·ï¼ˆç›®å‰ `16px`ï¼‰
        *   èª¿å¤§ï¼šå…§å®¹é›¢å·¦å³é‚Šç·£æ›´é ï¼Œè¦–è¦ºæ›´å¯¬é¬†
        *   èª¿å°ï¼šå…§å®¹æ›´é è¿‘é‚Šç·£ï¼Œç¯€çœç©ºé–“
    *   `--page-padding-bottom`: ä¸‹æ–¹é¡å¤–é–“è·ï¼ˆç›®å‰ `12px`ï¼‰

#### 3.2 é é¢å®¹å™¨è¨­å®š

*   **`.page-container`**
    *   é€™å€‹ class æ§åˆ¶æ•´å€‹é é¢çš„ padding
    *   è‡ªå‹•çµåˆ iOS å®‰å…¨å€åŸŸèˆ‡è‡ªè¨‚é–“è·
    *   **èª¿æ•´æ–¹å¼**: ä¿®æ”¹ä¸Šæ–¹çš„ CSS è®Šæ•¸å³å¯ï¼Œä¸éœ€è¦ç›´æ¥ä¿®æ”¹æ­¤ class

*   **`.page-content`**
    *   å…§å®¹å€åŸŸçš„é¡å¤–å…§è·ï¼ˆç›®å‰ `padding: 0 4px 4px`ï¼‰
    *   å·²ç¶“å¾ˆå°ï¼Œå› ç‚ºä¸»è¦é–“è·ç”± `.page-container` æä¾›

---

## 4. å‹•ç‰©æŒ‡ä»¤å¤§å†’éšª (Animal Commands)

### æª”æ¡ˆä½ç½®ï¼š`src/features/animal-commands/animal-commands.css`

#### 4.1 ç‰ˆé¢çµæ§‹èªªæ˜

**æ¡Œé¢ç‰ˆ (Desktop)**: å·¦å³åˆ†æ¬„ï¼ˆåœ°åœ–å€ + æ§åˆ¶å€ï¼‰  
**æ‰‹æ©Ÿç›´å‘ (Mobile Portrait)**: ä¸Šä¸‹åˆ†æ¬„ï¼ˆåœ°åœ–åœ¨ä¸Šï¼Œæ§åˆ¶åœ¨ä¸‹ï¼‰  
**æ‰‹æ©Ÿæ©«å‘ (Mobile Landscape)**: å·¦å³åˆ†æ¬„ï¼ˆåœ°åœ–åœ¨å·¦ï¼Œæ§åˆ¶åœ¨å³ï¼‰

#### 4.1.1 å…¥å£é é¢ (Entry Page) æ‰‹æ©Ÿç‰ˆèª¿æ•´

*   **`.ac-entry-container`** - å…¥å£é é¢å®¹å™¨
    *   **æ‰‹æ©Ÿç‰ˆ**: `gap: 12px` - **[é‡è¦]** æ•´é«”é–“è·ï¼ˆåŸæœ¬ 24pxï¼‰
    *   **æ‰‹æ©Ÿç‰ˆ**: `padding: 8px` - å®¹å™¨å…§è·ï¼ˆåŸæœ¬ 16pxï¼‰
    *   **æ‰‹æ©Ÿç‰ˆ**: `justify-content: flex-start` - å¾é ‚éƒ¨é–‹å§‹æ’åˆ—ï¼Œé¿å…æ¨™é¡Œè¢«é®ä½

*   **`.ac-entry-visual`** - Emoji è¦–è¦ºå…ƒç´ 
    *   **æ‰‹æ©Ÿç‰ˆ**: `gap: 12px` - emoji é–“è·ï¼ˆåŸæœ¬ 16pxï¼‰
    *   **æ‰‹æ©Ÿç‰ˆ**: `margin-bottom: 8px` - ä¸‹æ–¹é–“è·ï¼ˆåŸæœ¬ 16pxï¼‰

*   **`.ac-entry-emoji`** - Emoji å¤§å°
    *   **æ‰‹æ©Ÿç‰ˆ**: `font-size: 36px` - **[é‡è¦]** emoji å¤§å°ï¼ˆåŸæœ¬ 48pxï¼‰

*   **`.ac-entry-subtitle`** - å‰¯æ¨™é¡Œ
    *   **æ‰‹æ©Ÿç‰ˆ**: `font-size: 15px` - æ–‡å­—å¤§å°ï¼ˆåŸæœ¬ 18pxï¼‰

*   **`.ac-mode-grid`** - æ¨¡å¼é¸æ“‡ç¶²æ ¼
    *   **æ‰‹æ©Ÿç‰ˆ**: `grid-template-columns: 1fr` - å–®æ¬„é¡¯ç¤º
    *   **æ‰‹æ©Ÿç‰ˆ**: `gap: 10px` - **[é‡è¦]** å¡ç‰‡é–“è·ï¼ˆåŸæœ¬ 16pxï¼‰

*   **`.ac-mode-card`** - æ¨¡å¼é¸æ“‡å¡ç‰‡
    *   **æ‰‹æ©Ÿç‰ˆ**: `padding: 12px` - **[é‡è¦]** å¡ç‰‡å…§è·ï¼ˆåŸæœ¬ 20pxï¼‰
    *   **æ‰‹æ©Ÿç‰ˆ**: `gap: 4px` - å…§éƒ¨å…ƒç´ é–“è·ï¼ˆåŸæœ¬ 8pxï¼‰
    *   **æ‰‹æ©Ÿç‰ˆ**: `border-radius: 12px` - åœ“è§’ï¼ˆåŸæœ¬ 16pxï¼‰
    *   **æ‰‹æ©Ÿç‰ˆ**: `border-width: 2px` - é‚Šæ¡†ç²—ç´°ï¼ˆåŸæœ¬ 3pxï¼‰

*   **æ¨¡å¼å¡ç‰‡æ–‡å­—å¤§å°èª¿æ•´**:
    *   `.ac-mode-number`: `font-size: 12px`ï¼ˆåŸæœ¬ 14pxï¼‰
    *   `.ac-mode-name`: `font-size: 16px`ï¼ˆåŸæœ¬ 18pxï¼‰
    *   `.ac-mode-desc`: `font-size: 13px`ï¼ˆåŸæœ¬ 14pxï¼‰
    *   `.ac-mode-info`: `font-size: 11px`ï¼ˆåŸæœ¬ 12pxï¼‰

#### 4.2 æ•´é«”ä½ˆå±€èª¿æ•´

*   **`.ac-game-layout`** - éŠæˆ²ä¸»å®¹å™¨
    *   **æ¡Œé¢ç‰ˆ**: `gap: 20px` - å·¦å³é¢æ¿é–“è·ï¼Œ`padding: 12px` - æ•´é«”å…§è·
    *   **æ‰‹æ©Ÿç›´å‘**: `gap: 8px` - **[èª¿æ•´]** ä¸Šä¸‹é¢æ¿é–“è·ï¼Œæ¸›å°‘é–“è·ä»¥ç¯€çœç©ºé–“
    *   **æ‰‹æ©Ÿæ©«å‘**: `gap: 6px` - å·¦å³é¢æ¿é–“è·ï¼Œ`padding: 4px` - æ•´é«”å…§è·

*   **`.ac-left-panel`** - åœ°åœ–å€åŸŸ
    *   **æ‰‹æ©Ÿç›´å‘**: 
        *   `flex: 0 0 auto` - **[é‡è¦]** ä¸ä¼¸ç¸®ï¼Œå›ºå®šå¤§å°
        *   `max-height: 45vh` - **[é‡è¦]** åœ°åœ–æœ€å¤§é«˜åº¦ï¼Œç¢ºä¿åœ°åœ–æœ‰è¶³å¤ ç©ºé–“
        *   `min-height: 200px` - **[é‡è¦]** æœ€å°é«˜åº¦ç¢ºä¿åœ°åœ–å¯è¦‹
        *   `overflow: visible` - **[é‡è¦]** å…è¨±åœ°åœ–å®Œæ•´é¡¯ç¤º
    *   **æ‰‹æ©Ÿæ©«å‘**: `max-width: 45vw` - **[é‡è¦]** åœ°åœ–æœ€å¤§å¯¬åº¦ï¼ˆåŸæœ¬ 48vwï¼‰
    *   **å¹³æ¿ç›´å‘**: `max-height: 45vh` - åœ°åœ–æœ€å¤§é«˜åº¦ï¼ˆåŸæœ¬ 50vhï¼‰

*   **`.ac-right-panel`** - æ§åˆ¶å€åŸŸ
    *   **æ¡Œé¢ç‰ˆ**: `width: 320px` - **[é‡è¦]** å³å´é¢æ¿å›ºå®šå¯¬åº¦
    *   **æ‰‹æ©Ÿç›´å‘**: 
        *   `flex: 0 1 auto` - **[é‡è¦]** å¯ç¸®å°ä½†ä¸æ“´å¼µï¼ˆé˜²æ­¢æ§åˆ¶å€ä½”æ“šéå¤šç©ºé–“ï¼‰
        *   `max-height: 50vh` - **[é‡è¦]** é™åˆ¶æœ€å¤§é«˜åº¦ï¼Œé˜²æ­¢æ§åˆ¶å€éå¤§
        *   `overflow-y: auto` - **[é‡è¦]** å…è¨±å‚ç›´æ²å‹•
        *   âš ï¸ **æ³¨æ„**: çµ•å°ä¸è¦è¨­å®š `flex: 1`ï¼Œé€™æœƒå°è‡´æ§åˆ¶å€ä½”æ“šæ‰€æœ‰å‰©é¤˜ç©ºé–“ï¼

*   **`.ac-command-section`** - æŒ‡ä»¤å€å®¹å™¨
    *   **æ‰‹æ©Ÿç›´å‘**:
        *   `height: auto` - **[é‡è¦]** è‡ªå‹•é«˜åº¦è€Œé 100%
        *   `max-height: 100%` - é™åˆ¶æœ€å¤§é«˜åº¦

*   **`.ac-sequence-wrapper`** - åºåˆ—åŒ…è£å™¨
    *   **æ‰‹æ©Ÿç›´å‘**:
        *   `flex: 0 1 auto` - **[é‡è¦]** å¯ç¸®å°ä½†ä¸æ“´å¼µ
        *   âš ï¸ **æ³¨æ„**: ä¸è¦è¨­å®š `flex: 1`ï¼Œæœƒå°è‡´ä½ˆå±€å•é¡Œï¼

#### 4.2.1 æ¨¡å¼ 1/2 æ§åˆ¶æŒ‰éˆ•ä½ˆå±€ï¼ˆç›´æ¥æ§åˆ¶æ¨¡å¼ï¼‰

*   **`.dc-buttons`** - ç›´æ¥æ§åˆ¶æŒ‰éˆ•å®¹å™¨
    *   **æ‰‹æ©Ÿç›´å‘**:
        *   `display: grid` - **[é‡è¦]** ä½¿ç”¨ Grid ä½ˆå±€
        *   `grid-template-columns: repeat(2, 1fr)` - **[é‡è¦]** 2 æ¬„ä½ˆå±€ï¼ˆæ©«å‘æ’åˆ—ï¼‰
        *   `gap: 8px` - æŒ‰éˆ•é–“è·
        *   **æ•ˆæœ**: å‰é€²ã€å·¦è½‰ã€å³è½‰ã€è·³èºæŒ‰éˆ•æ’åˆ—æˆ 2x2 æ ¼å­

#### 4.2.2 æ¨¡å¼ 3/4 æŒ‡ä»¤å€ä½ˆå±€ï¼ˆæŒ‡ä»¤åºåˆ—æ¨¡å¼ï¼‰

*   **`.ac-palette`** - æŒ‡ä»¤æŒ‰éˆ•å€
    *   **æ‰‹æ©Ÿç›´å‘**:
        *   `display: flex` - **[é‡è¦]** ä½¿ç”¨ Flex ä½ˆå±€
        *   `flex-direction: row` - **[é‡è¦]** æ©«å‘æ’åˆ—
        *   `overflow-x: auto` - **[é‡è¦]** å…è¨±æ©«å‘æ²å‹•
        *   `gap: 8px` - æŒ‰éˆ•é–“è·
        *   `flex-shrink: 0` - **[é‡è¦]** é˜²æ­¢è¢«å£“ç¸®
        *   **æ•ˆæœ**: æŒ‡ä»¤æŒ‰éˆ•æ©«å‘æ’åˆ—ï¼Œå¯å·¦å³æ²å‹•

*   **`.ac-sequence-container`** - æŒ‡ä»¤åºåˆ—å®¹å™¨
    *   **æ‰‹æ©Ÿç›´å‘**:
        *   `flex: 1` - **[é‡è¦]** ä½”æ“šå‰©é¤˜ç©ºé–“
        *   `max-height: 25vh` - **[é‡è¦]** é™åˆ¶æœ€å¤§é«˜åº¦
        *   **æ•ˆæœ**: åºåˆ—å€ä½”æ“šé©ç•¶ç©ºé–“ï¼Œä¸æœƒéå¤§

*   **`.ac-sequence-list`** - æŒ‡ä»¤åºåˆ—åˆ—è¡¨
    *   **æ‰‹æ©Ÿç›´å‘**:
        *   `display: flex` - **[é‡è¦]** ä½¿ç”¨ Flex ä½ˆå±€
        *   `flex-direction: row` - **[é‡è¦]** æ©«å‘æ’åˆ—
        *   `overflow-x: auto` - **[é‡è¦]** å…è¨±æ©«å‘æ²å‹•
        *   `gap: 4px` - åºåˆ—æ ¼å­é–“è·
        *   **æ•ˆæœ**: æŒ‡ä»¤åºåˆ—æ©«å‘æ’åˆ—ï¼Œå¯å·¦å³æ²å‹•

*   **`.ac-sequence-wrapper`** - åºåˆ—èˆ‡æ§åˆ¶æŒ‰éˆ•åŒ…è£å™¨
    *   **æ‰‹æ©Ÿç›´å‘**:
        *   `flex-direction: column-reverse` - **[é‡è¦]** æŒ‡ä»¤åºåˆ—åœ¨ä¸Šã€æ§åˆ¶æŒ‰éˆ•åœ¨ä¸‹
        *   âš ï¸ **æ³¨æ„**: ä¸è¦æ”¹ç‚º `column`ï¼Œæœƒå°è‡´é †åºéŒ¯èª¤ï¼

#### 4.2.3 æ¨¡å¼ 1/2 èˆ‡æ¨¡å¼ 3/4 ç¨ç«‹æ§åˆ¶

**é‡è¦**: æ¨¡å¼ 1/2 å’Œæ¨¡å¼ 3/4 ç¾åœ¨å¯ä»¥ç¨ç«‹èª¿æ•´ï¼Œä¸æœƒäº’ç›¸å½±éŸ¿ï¼

*   **`.ac-right-panel.ac-mode-direct`** - æ¨¡å¼ 1/2 å°ˆç”¨ï¼ˆç›´æ¥æ§åˆ¶ï¼‰
    *   **æ‰‹æ©Ÿç›´å‘**:
        *   `max-height: 30vh` - **[å¯èª¿æ•´]** æ§åˆ¶å€æœ€å¤§é«˜åº¦ï¼Œèª¿æ•´æ­¤æ•¸å€¼ä¾†æ§åˆ¶ç¶ è‰²å€å¡Šå¤§å°
        *   å»ºè­°ç¯„åœï¼š20vh ~ 40vh
    *   **æ‰‹æ©Ÿæ©«å‘**:
        *   `max-width: 35vw` - **[å¯èª¿æ•´]** æ§åˆ¶å€æœ€å¤§å¯¬åº¦ï¼Œèª¿æ•´æ­¤æ•¸å€¼ä¾†æ§åˆ¶ç¶ è‰²å€å¡Šå¯¬åº¦
        *   å»ºè­°ç¯„åœï¼š30vw ~ 40vw
    *   **iPad ç›´å‘**:
        *   `max-height: 40vh` - **[å¯èª¿æ•´]** æ§åˆ¶å€æœ€å¤§é«˜åº¦
        *   å»ºè­°ç¯„åœï¼š30vh ~ 50vh

*   **`.ac-right-panel.ac-mode-sequence`** - æ¨¡å¼ 3/4 å°ˆç”¨ï¼ˆæŒ‡ä»¤åºåˆ—ï¼‰
    *   ä½¿ç”¨é è¨­çš„ `max-height: 50vh` é™åˆ¶
    *   ä¿æŒå®Œæ•´çš„æŒ‡ä»¤å€å’Œåºåˆ—å€é¡¯ç¤º

**èª¿æ•´ç¯„ä¾‹**ï¼š
```css
/* æ‰‹æ©Ÿç›´å‘ - å¦‚æœæ¨¡å¼ 1/2 ç¶ è‰²å€åŸŸå¤ªå¤§ */
@media (orientation: portrait) and (max-width: 768px) {
    .ac-right-panel.ac-mode-direct {
        max-height: 25vh;  /* æ¸›å°é«˜åº¦ï¼ŒåŸæœ¬ 30vh */
    }
}

/* æ‰‹æ©Ÿæ©«å‘ - å¦‚æœæ¨¡å¼ 1/2 ç¶ è‰²å€åŸŸå¤ªå¯¬ */
@media (orientation: landscape) and (max-height: 500px) {
    .ac-right-panel.ac-mode-direct {
        max-width: 30vw;   /* æ¸›å°å¯¬åº¦ï¼ŒåŸæœ¬ 35vw */
    }
}

/* iPad ç›´å‘ - å¦‚æœæ¨¡å¼ 1/2 ç¶ è‰²å€åŸŸå¤ªå¤§ */
@media (orientation: portrait) and (min-width: 769px) and (max-width: 1024px) {
    .ac-right-panel.ac-mode-direct {
        max-height: 35vh;  /* æ¸›å°é«˜åº¦ï¼ŒåŸæœ¬ 40vh */
    }
}

/* å¦‚æœæ¨¡å¼ 3/4 æŒ‡ä»¤å€è¢«å£“ç¸®ï¼Œå¯ä»¥å¢åŠ é«˜åº¦ */
@media (orientation: portrait) and (max-width: 768px) {
    .ac-right-panel.ac-mode-sequence {
        max-height: 55vh;  /* å¢åŠ æœ€å¤§é«˜åº¦ï¼ŒåŸæœ¬ 50vh */
    }
}
```

## 6. iPhone ç›´å¼ Mode 3/4 ä½ˆå±€èª¿æ•´æŒ‡å—

æœ¬ç¯€å°ˆé–€é‡å° iPhone ç›´å¼ä¸‹çš„ Mode 3/4 (æŒ‡ä»¤åºåˆ—æ¨¡å¼) é€²è¡Œèª¿æ•´ã€‚

### 6.1 ä½ˆå±€é †åºèˆ‡å¯¬åº¦
æ‰€æœ‰å€å¡Šå¯¬åº¦é è¨­ç‚º `90vw` (è¦–çª—å¯¬åº¦çš„ 90%)ï¼Œæœ€å¤§å¯¬åº¦é™åˆ¶ç‚º `350px`ã€‚

*   **èª¿æ•´ä½ç½®**: `animal-commands.css`
    *   `.ac-palette` (å‹•ä½œå€)
    *   `.ac-sequence-container` (åºåˆ—å€)
    *   `.ac-controls` (åŸ·è¡Œ/é‡ç½®å€)

### 6.2 å‹•ä½œå€ (Command Palette)
ä½æ–¼åœ°åœ–æ­£ä¸‹æ–¹ï¼Œé»ƒè‰²èƒŒæ™¯ã€‚

*   **æŒ‰éˆ•å¤§å°**: è‡ªå‹•å¡«æ»¿æ ¼å­ï¼Œä¿æŒæ­£æ–¹å½¢ã€‚
*   **èª¿æ•´ä½ç½®**: `command-palette.css`
    *   `.ac-palette`: `gap` (æŒ‰éˆ•é–“è·)
    *   `.ac-command-btn`: `padding` (å…§è·), `border-radius` (åœ“è§’)
    *   `.ac-cmd-icon`: `font-size` (åœ–ç¤ºå¤§å°)
    *   `.ac-cmd-label`: `font-size` (æ–‡å­—å¤§å°)

### 6.3 æŒ‡ä»¤åºåˆ— (Sequence)
ä½æ–¼å‹•ä½œå€ä¸‹æ–¹ã€‚

*   **é«˜åº¦**: è‡ªå‹•é«˜åº¦ï¼Œæœ€å° `120px`ã€‚
*   **èª¿æ•´ä½ç½®**: `animal-commands.css`
    *   `.ac-sequence-container`: `min-height` (æœ€å°é«˜åº¦)
    *   `.ac-sequence-list`: `gap` (æ ¼å­é–“è·)

### 6.4 åŸ·è¡Œ/é‡ç½® (Control Panel)
ä½æ–¼æœ€ä¸‹æ–¹ï¼ŒæŒ‰éˆ•è¼ƒå¤§ã€‚

*   **èª¿æ•´ä½ç½®**: `control-panel.css`
    *   `.ac-controls`: `gap` (æŒ‰éˆ•é–“è·), `padding-bottom` (åº•éƒ¨ç•™ç™½/å®‰å…¨å€åŸŸ)
    *   `.ac-control-btn`: `height` (æŒ‰éˆ•é«˜åº¦), `font-size` (æ–‡å­—å¤§å°)
    *   `.ac-control-icon`: `font-size` (åœ–ç¤ºå¤§å°)

### 6.5 è§’è‰²èˆ‡åœ°åœ–ç‰©ä»¶å¤§å°
*   **èª¿æ•´ä½ç½®**: `animal-commands.css` (ä½æ–¼ `/* [æ‰‹æ©Ÿç›´å‘] Mobile Portrait */` å€å¡Šå…§)
    *   `.ac-grid-item`: `font-size` (æ§åˆ¶ç´…è˜¿è””ã€çŸ³é ­ã€çµ‚é»ç­‰ Emoji å¤§å°)
    *   `.ac-player-img`: `width`, `height` (æ§åˆ¶å…”å­/æé¾è§’è‰²åœ–ç‰‡å¤§å°)
    *   `.ac-grid-cell`: `min-width`, `min-height` (æ ¼å­æœ€å°å°ºå¯¸)

## 7. iPad ç›´å¼ Mode 3/4 ä½ˆå±€èª¿æ•´æŒ‡å—

æœ¬ç¯€å°ˆé–€é‡å° iPad ç›´å¼ä¸‹çš„ Mode 3/4 èª¿æ•´ã€‚çµæ§‹èˆ‡ iPhone ç›¸åŒï¼Œä½†åƒæ•¸ç¨ç«‹ã€‚

### 7.1 ä½ˆå±€é †åºèˆ‡å¯¬åº¦
æ‰€æœ‰å€å¡Šå¯¬åº¦é è¨­ç‚º `80vw` (è¦–çª—å¯¬åº¦çš„ 80%)ï¼Œæœ€å¤§å¯¬åº¦é™åˆ¶ç‚º `600px`ã€‚

*   **èª¿æ•´ä½ç½®**: `animal-commands.css` (ä½æ–¼ `/* [å¹³æ¿ç›´å‘] Tablet Portrait */` å€å¡Šå…§)
    *   `.ac-grid-container`: `width`, `max-width` (åœ°åœ–å¯¬åº¦)
    *   `.ac-palette`: `width`, `max-width` (å‹•ä½œå€å¯¬åº¦)
    *   `.ac-sequence-container`: `width`, `max-width` (åºåˆ—å€å¯¬åº¦)
    *   `.ac-controls`: `width`, `max-width` (æ§åˆ¶å€å¯¬åº¦)

### 7.2 å‹•ä½œå€ (Command Palette)
*   **èª¿æ•´ä½ç½®**: `animal-commands.css` (ä½æ–¼ `/* [å¹³æ¿ç›´å‘] Tablet Portrait */` å€å¡Šå…§)
    *   `.ac-palette`: `gap` (æŒ‰éˆ•é–“è·)
*   **èª¿æ•´ä½ç½®**: `command-palette.css`
    *   `.ac-cmd-icon`: `font-size` (åœ–ç¤ºå¤§å°)
    *   `.ac-cmd-label`: `font-size` (æ–‡å­—å¤§å°)

### 7.3 æŒ‡ä»¤åºåˆ— (Sequence)
*   **èª¿æ•´ä½ç½®**: `animal-commands.css` (ä½æ–¼ `/* [å¹³æ¿ç›´å‘] Tablet Portrait */` å€å¡Šå…§)
    *   `.ac-sequence-container`: `min-height` (æœ€å°é«˜åº¦)
    *   `.ac-sequence-list`: `gap` (æ ¼å­é–“è·)
*   **èª¿æ•´ä½ç½®**: `command-sequence.css`
    *   `.ac-seq-icon`: `font-size` (åºåˆ—åœ–ç¤ºå¤§å°)
    *   `.ac-slot-number`: `font-size` (è™›ç·šæ¡†æ•¸å­—å¤§å°)
    *   `.ac-sequence-label`: `font-size` (æ¨™é¡Œæ–‡å­—å¤§å°)

### 7.4 åŸ·è¡Œ/é‡ç½® (Control Panel)
*   **èª¿æ•´ä½ç½®**: `animal-commands.css` (ä½æ–¼ `/* [å¹³æ¿ç›´å‘] Tablet Portrait */` å€å¡Šå…§)
    *   `.ac-controls`: `gap` (æŒ‰éˆ•é–“è·), `padding-bottom` (åº•éƒ¨ç•™ç™½)
    *   `.ac-control-btn`: `height` (æŒ‰éˆ•é«˜åº¦), `font-size` (æ–‡å­—å¤§å°)

### 7.5 è§’è‰²èˆ‡åœ°åœ–ç‰©ä»¶å¤§å°
*   **èª¿æ•´ä½ç½®**: `animal-commands.css` (ä½æ–¼ `/* [å¹³æ¿ç›´å‘] Tablet Portrait */` å€å¡Šå…§)
    *   `.ac-grid-item`: `font-size` (Emoji å¤§å°)
    *   `.ac-control-btn`: `height` (æŒ‰éˆ•é«˜åº¦), `font-size` (æ–‡å­—å¤§å°)

### 7.5 è§’è‰²èˆ‡åœ°åœ–ç‰©ä»¶å¤§å°
*   **èª¿æ•´ä½ç½®**: `animal-commands.css` (ä½æ–¼ `/* [å¹³æ¿ç›´å‘] Tablet Portrait */` å€å¡Šå…§)
    *   `.ac-grid-item`: `font-size` (Emoji å¤§å°)
    *   `.ac-player-img`: `width`, `height` (è§’è‰²åœ–ç‰‡å¤§å°)

## 8. iPad æ©«å¼ Mode 1/2 ä½ˆå±€èª¿æ•´æŒ‡å—

æœ¬ç¯€å°ˆé–€é‡å° iPad æ©«å¼ä¸‹çš„ Mode 1/2 èª¿æ•´ (å·¦å³ä½ˆå±€ï¼Œå³å´ç‚ºå¤§æŒ‰éˆ•)ã€‚

### 8.1 åœ°åœ–èˆ‡æ•´é«”ä½ˆå±€
*   **èª¿æ•´ä½ç½®**: `animal-commands.css` (ä½æ–¼ `/* [å¹³æ¿èˆ‡æ¡Œé¢æ©«å‘] Tablet & Desktop Landscape */` å€å¡Šå…§)
    *   `.ac-grid-container`: `height` (åœ°åœ–é«˜åº¦ï¼Œé è¨­ 85vh)
    *   `.ac-game-layout`: `gap` (å·¦å³é¢æ¿é–“è·)

### 8.2 æ§åˆ¶é¢æ¿ (å³å´)
*   **èª¿æ•´ä½ç½®**: `animal-commands.css` (ä½æ–¼ `/* [å¹³æ¿èˆ‡æ¡Œé¢æ©«å‘] Tablet & Desktop Landscape */` å€å¡Šå…§)
    *   `.ac-right-panel.ac-mode-direct`: `width` (æ§åˆ¶å€å¯¬åº¦), `padding` (å…§è·)
    *   `.dc-buttons`: `gap` (æŒ‰éˆ•é–“è·)
    *   `.dc-buttons .ac-control-btn`: `height` (æŒ‰éˆ•é«˜åº¦), `font-size` (æ–‡å­—å¤§å°)

## 9. å‹•ç‰©æŒ‡ä»¤å¤§å†’éšªæŒ‰éˆ•å°ºå¯¸èª¿æ•´æŒ‡å—

### 7.1 æ¨¡å¼ 1/2 ç›´æ¥æ§åˆ¶æŒ‰éˆ•

**æª”æ¡ˆä½ç½®**: `src/features/animal-commands/components/direct-control-panel.css`

#### æŒ‰éˆ•æ•´é«”å¤§å°
```css
.dc-btn {
    padding: 8px;              /* [å¯èª¿æ•´] æŒ‰éˆ•å…§è· - å½±éŸ¿æŒ‰éˆ•å¤§å° */
    min-height: 60px;          /* [å¯èª¿æ•´] æŒ‰éˆ•æœ€å°é«˜åº¦ */
    border-radius: 12px;       /* [å¯èª¿æ•´] æŒ‰éˆ•åœ“è§’ */
}
```

#### åœ–ç¤ºå¤§å°
```css
.dc-btn-icon {
    font-size: 32px;           /* [å¯èª¿æ•´] emoji åœ–ç¤ºå¤§å° */
    width: 56px;               /* [å¯èª¿æ•´] åœ–ç¤ºå®¹å™¨å¯¬åº¦ */
    height: 56px;              /* [å¯èª¿æ•´] åœ–ç¤ºå®¹å™¨é«˜åº¦ */
}
```

#### æ–‡å­—å¤§å°
```css
.dc-btn-label {
    font-size: 24px;           /* [å¯èª¿æ•´] æŒ‰éˆ•æ–‡å­—å¤§å° */
}
```

#### ç¶ è‰²æ¡†ï¼ˆé¢æ¿é‚Šæ¡†ï¼‰
```css
.dc-panel {
    border: 2px solid #81c784; /* [å¯èª¿æ•´] ç¶ è‰²é‚Šæ¡†å¯¬åº¦ */
    border-radius: 16px;       /* [å¯èª¿æ•´] é¢æ¿åœ“è§’ */
    background: #e8f5e9;       /* [å¯èª¿æ•´] èƒŒæ™¯é¡è‰² */
    padding: 8px;              /* [å¯èª¿æ•´] é¢æ¿å…§è· */
}
```

#### å·¦å´å½©è‰²é‚Šæ¡†
```css
.dc-btn-forward {
    border-left: 6px solid #4caf50;  /* [å¯èª¿æ•´] å‰é€²æŒ‰éˆ•å·¦å´ç¶ è‰²é‚Šæ¡† */
}
.dc-btn-left, .dc-btn-right {
    border-left: 6px solid #2196f3;  /* [å¯èª¿æ•´] å·¦è½‰/å³è½‰æŒ‰éˆ•å·¦å´è—è‰²é‚Šæ¡† */
}
```

### 6.3 æ¨¡å¼ 3/4 æŒ‡ä»¤æŒ‰éˆ•å€
*   **èª¿æ•´ä½ç½®**: `animal-commands.css` (ä½æ–¼ `/* [æ‰‹æ©Ÿç›´å‘] Mobile Portrait */` å€å¡Šå…§ï¼Œç´„ç¬¬ 611-640 è¡Œ)
    *   `.ac-palette`: `width`, `max-width` (æŒ‰éˆ•å€å¯¬åº¦)
    *   `.ac-command-btn`: `min-width`, `height` (æŒ‰éˆ•å¤§å°)
    *   **èªªæ˜**: æŒ‰éˆ•æ¡ç”¨æ©«å‘æ²å‹•ä½ˆå±€ï¼Œå¯èª¿æ•´æŒ‰éˆ•å¤§å°ä½†éœ€ä¿æŒæ­£æ–¹å½¢ (aspect-ratio: 1)

### 6.4 æ¨¡å¼ 3/4 æŒ‡ä»¤åºåˆ—å€æŒ‰éˆ•

**æª”æ¡ˆä½ç½®**: `src/features/animal-commands/components/command-palette.css`

#### æŒ‰éˆ•æ•´é«”å¤§å°
```css
.ac-command-btn {
    padding: 8px;              /* [å¯èª¿æ•´] æŒ‰éˆ•å…§è· - å½±éŸ¿æŒ‰éˆ•å¤§å° */
    min-width: 48px;           /* [å¯èª¿æ•´] æŒ‰éˆ•æœ€å°å¯¬åº¦ */
    min-height: 48px;          /* [å¯èª¿æ•´] æŒ‰éˆ•æœ€å°é«˜åº¦ */
    border-radius: 10px;       /* [å¯èª¿æ•´] æŒ‰éˆ•åœ“è§’ */
}
```

#### åœ–ç¤ºå¤§å°
```css
.ac-cmd-icon {
    font-size: 28px;           /* [å¯èª¿æ•´] emoji åœ–ç¤ºå¤§å° */
}
```

#### é»ƒæ¡†ï¼ˆæŒ‡ä»¤å€é‚Šæ¡†ï¼‰
```css
.ac-palette {
    border: 2px solid #ffe0b2; /* [å¯èª¿æ•´] é»ƒæ¡†é‚Šæ¡†å¯¬åº¦ */
    border-radius: 12px;       /* [å¯èª¿æ•´] æŒ‡ä»¤å€åœ“è§’ */
    background: #fff3e0;       /* [å¯èª¿æ•´] èƒŒæ™¯é¡è‰² */
    padding: 8px;              /* [å¯èª¿æ•´] æŒ‡ä»¤å€å…§è· */
}
```

#### å·¦å´å½©è‰²é‚Šæ¡†
```css
.ac-btn-forward {
    border-left: 4px solid #4caf50;  /* [å¯èª¿æ•´] å‰é€²æŒ‰éˆ•å·¦å´ç¶ è‰²é‚Šæ¡† */
}
.ac-btn-left, .ac-btn-right {
    border-left: 4px solid #2196f3;  /* [å¯èª¿æ•´] å·¦è½‰/å³è½‰æŒ‰éˆ•å·¦å´è—è‰²é‚Šæ¡† */
}
.ac-btn-jump {
    border-left: 4px solid #ff9800;  /* [å¯èª¿æ•´] è·³èºæŒ‰éˆ•å·¦å´æ©˜è‰²é‚Šæ¡† */
}
```

### 5.3 é–‹å§‹åŸ·è¡Œ / é‡ç½®æŒ‰éˆ•

**æª”æ¡ˆä½ç½®**: `src/features/animal-commands/components/control-panel.css`

#### æŒ‰éˆ•æ•´é«”å¤§å°
```css
.ac-control-btn {
    padding: 8px 16px;         /* [å¯èª¿æ•´] æŒ‰éˆ•å…§è· - å½±éŸ¿æŒ‰éˆ•å¯¬é«˜ */
    font-size: 14px;           /* [å¯èª¿æ•´] æŒ‰éˆ•æ–‡å­—å¤§å° */
    border-radius: 999px;      /* [å¯èª¿æ•´] åœ“è§’å¤§å° - 999px ç‚ºå®Œå…¨åœ“è§’ */
    gap: 4px;                  /* [å¯èª¿æ•´] åœ–ç¤ºèˆ‡æ–‡å­—é–“è· */
}
```

#### æŒ‰éˆ•é–“è·
```css
.ac-controls {
    gap: 6px;                  /* [å¯èª¿æ•´] æŒ‰éˆ•ä¹‹é–“çš„é–“è· */
    padding: 4px;              /* [å¯èª¿æ•´] å®¹å™¨å…§è· */
}
```

#### æŒ‰éˆ•é¡è‰²
```css
.ac-btn-start {
    background: linear-gradient(135deg, #4caf50, #2e7d32);  /* [å¯èª¿æ•´] é–‹å§‹åŸ·è¡ŒæŒ‰éˆ• - ç¶ è‰²æ¼¸å±¤ */
}
.ac-btn-reset {
    background: #757575;       /* [å¯èª¿æ•´] é‡ç½®æŒ‰éˆ• - ç°è‰² */
}
```

## 6. è£ç½®ç‰¹å®šèª¿æ•´èªªæ˜

### 6.1 iPhone ç›´å¼ (Portrait)

**åª’é«”æŸ¥è©¢**: `@media (orientation: portrait) and (max-width: 768px)`

**æª”æ¡ˆä½ç½®**: `src/features/animal-commands/animal-commands.css` (ç´„ 520-670 è¡Œ)

#### åœ°åœ–å°ºå¯¸
```css
.ac-left-panel {
    max-height: 40vh;          /* [å¯èª¿æ•´] åœ°åœ–å€æœ€å¤§é«˜åº¦ */
    min-height: 180px;         /* [å¯èª¿æ•´] åœ°åœ–å€æœ€å°é«˜åº¦ */
}

.ac-grid-container {
    max-width: 75vw;           /* [å¯èª¿æ•´] åœ°åœ–æœ€å¤§å¯¬åº¦ */
    max-height: 75vw;          /* [å¯èª¿æ•´] åœ°åœ–æœ€å¤§é«˜åº¦ */
    padding: 4px;              /* [å¯èª¿æ•´] åœ°åœ–å…§è· */
}

.ac-grid-cell {
    min-width: 24px;           /* [å¯èª¿æ•´] æ ¼å­æœ€å°å¯¬åº¦ */
    min-height: 24px;          /* [å¯èª¿æ•´] æ ¼å­æœ€å°é«˜åº¦ */
}
```

#### æ§åˆ¶å€é«˜åº¦
```css
.ac-right-panel {
    max-height: 50vh;          /* [å¯èª¿æ•´] æ§åˆ¶å€æœ€å¤§é«˜åº¦ */
}

.ac-sequence-container {
    max-height: 25vh;          /* [å¯èª¿æ•´] åºåˆ—å€æœ€å¤§é«˜åº¦ */
}
```

### 6.2 iPhone æ©«å¼ (Landscape)

**åª’é«”æŸ¥è©¢**: `@media (orientation: landscape) and (max-height: 500px)`

**æª”æ¡ˆä½ç½®**: `src/features/animal-commands/animal-commands.css` (ç´„ 672-760 è¡Œ)

#### åœ°åœ–å°ºå¯¸
```css
.ac-grid-container {
    height: 75vh;              /* [å¯èª¿æ•´] åœ°åœ–é«˜åº¦ */
    width: 75vh;               /* [å¯èª¿æ•´] åœ°åœ–å¯¬åº¦ - ä¿æŒæ­£æ–¹å½¢ */
    padding: 4px;              /* [å¯èª¿æ•´] åœ°åœ–å…§è· */
}
```

#### é¢æ¿å¯¬åº¦
```css
.ac-left-panel {
    max-width: 45vw;           /* [å¯èª¿æ•´] åœ°åœ–å€æœ€å¤§å¯¬åº¦ */
}

.ac-right-panel {
    max-width: 40vw;           /* [å¯èª¿æ•´] æ§åˆ¶å€æœ€å¤§å¯¬åº¦ - é˜²æ­¢è¢«è£åˆ‡ */
}
```

âš ï¸ **é‡è¦**: å¦‚æœæ©«å‘æ¨¡å¼å³å´è¢«è£åˆ‡ï¼Œè«‹æ¸›å° `.ac-right-panel` çš„ `max-width` å€¼ï¼ˆä¾‹å¦‚å¾ 40vw æ”¹ç‚º 38vwï¼‰

### 6.3 iPad ç›´å¼ (Portrait)

**åª’é«”æŸ¥è©¢**: `@media (orientation: portrait) and (min-width: 769px) and (max-width: 1024px)`

**æª”æ¡ˆä½ç½®**: `src/features/animal-commands/animal-commands.css` (ç´„ 809-900 è¡Œ)

#### åœ°åœ–å°ºå¯¸
```css
.ac-left-panel {
    max-height: 45vh;          /* [å¯èª¿æ•´] åœ°åœ–å€æœ€å¤§é«˜åº¦ */
}

.ac-grid-container {
    max-width: 60vw;           /* [å¯èª¿æ•´] åœ°åœ–æœ€å¤§å¯¬åº¦ */
    max-height: 60vw;          /* [å¯èª¿æ•´] åœ°åœ–æœ€å¤§é«˜åº¦ */
    padding: 8px;              /* [å¯èª¿æ•´] åœ°åœ–å…§è· */
}

.ac-grid-cell {
    min-width: 40px;           /* [å¯èª¿æ•´] æ ¼å­æœ€å°å¯¬åº¦ */
    min-height: 40px;          /* [å¯èª¿æ•´] æ ¼å­æœ€å°é«˜åº¦ */
}

.ac-grid-item {
    font-size: 32px;           /* [å¯èª¿æ•´] åœ°åœ–ç‰©ä»¶å¤§å° */
}
```

#### æ§åˆ¶å€é«˜åº¦
```css
.ac-right-panel {
    max-height: 50vh;          /* [å¯èª¿æ•´] æ§åˆ¶å€æœ€å¤§é«˜åº¦ */
}

.ac-sequence-container {
    max-height: 25vh;          /* [å¯èª¿æ•´] åºåˆ—å€æœ€å¤§é«˜åº¦ */
}
```

### 6.4 iPad æ©«å¼ (Landscape)

**åª’é«”æŸ¥è©¢**: ä½¿ç”¨æ¡Œé¢ç‰ˆä½ˆå±€

**æª”æ¡ˆä½ç½®**: `src/features/animal-commands/animal-commands.css` (ç´„ 672-760 è¡Œï¼Œèˆ‡ iPhone æ©«å¼ç›¸åŒ)

#### åœ°åœ–å°ºå¯¸
```css
.ac-grid-container {
    height: 75vh;              /* [å¯èª¿æ•´] åœ°åœ–é«˜åº¦ */
    width: 75vh;               /* [å¯èª¿æ•´] åœ°åœ–å¯¬åº¦ */
}
```

#### é¢æ¿å¯¬åº¦
```css
.ac-right-panel {
    max-width: 40vw;           /* [å¯èª¿æ•´] æ§åˆ¶å€æœ€å¤§å¯¬åº¦ */
}
```

## 7. å¸¸è¦‹èª¿æ•´å ´æ™¯

### å ´æ™¯ 1: æŒ‰éˆ•å¤ªå¤§ï¼Œæƒ³ç¸®å°
1. æ¸›å°‘ `padding` å€¼ï¼ˆä¾‹å¦‚å¾ 8px æ”¹ç‚º 6pxï¼‰
2. æ¸›å°‘ `min-width` å’Œ `min-height` å€¼
3. æ¸›å°‘ `font-size` å€¼

### å ´æ™¯ 2: åœ–ç¤ºå¤ªå°ï¼Œçœ‹ä¸æ¸…æ¥š
1. å¢åŠ  `.dc-btn-icon` æˆ– `.ac-cmd-icon` çš„ `font-size` å€¼
2. å¢åŠ åœ–ç¤ºå®¹å™¨çš„ `width` å’Œ `height` å€¼

### å ´æ™¯ 3: åœ°åœ–è¢«å£“ç¸®ï¼Œæ§åˆ¶å€å¤ªå¤§
1. å¢åŠ  `.ac-left-panel` çš„ `max-height` å€¼
2. æ¸›å°‘ `.ac-right-panel` çš„ `max-height` å€¼
3. æ¸›å°‘ `.ac-sequence-container` çš„ `max-height` å€¼

### å ´æ™¯ 4: iPad æ©«å‘å³å´è¢«è£åˆ‡
1. æ¸›å°‘ `.ac-right-panel` çš„ `max-width` å€¼ï¼ˆä¾‹å¦‚å¾ 40vw æ”¹ç‚º 38vw æˆ– 35vwï¼‰
2. æ¸›å°‘ `.ac-left-panel` çš„ `max-width` å€¼

### å ´æ™¯ 5: æƒ³è¦æ›´å¤§çš„é‚Šæ¡†
1. å¢åŠ  `border` æˆ– `border-left` çš„å¯¬åº¦å€¼
2. ä¾‹å¦‚å¾ `2px` æ”¹ç‚º `3px` æˆ– `4px`

        *   `gap: 6px` - æ ¼å­é–“è·
    *   **æ‰‹æ©Ÿç›´å‘**:
        *   `max-width: 75vw` - **[èª¿æ•´]** åœ°åœ–æœ€å¤§å¯¬åº¦ï¼ˆåŸæœ¬ 80vwï¼‰
        *   `max-height: 75vw` - **[èª¿æ•´]** åœ°åœ–æœ€å¤§é«˜åº¦ï¼ˆåŸæœ¬ 80vwï¼‰
        *   `padding: 6px` - **[èª¿æ•´]** åœ°åœ–å…§è·ï¼ˆåŸæœ¬ 8pxï¼‰
        *   `gap: 2px` - **[èª¿æ•´]** æ ¼å­é–“è·ï¼ˆåŸæœ¬ 3pxï¼‰
    *   **æ‰‹æ©Ÿæ©«å‘**:
        *   `max-width: 40vh` - **[èª¿æ•´]** åœ°åœ–æœ€å¤§å¯¬åº¦ï¼ˆåŸæœ¬ 45vhï¼‰
        *   `max-height: 75vh` - **[èª¿æ•´]** åœ°åœ–æœ€å¤§é«˜åº¦ï¼ˆåŸæœ¬ 80vhï¼‰
        *   `padding: 6px` - åœ°åœ–å…§è·
        *   `gap: 2px` - æ ¼å­é–“è·

*   **`.ac-grid-cell`** - å–®å€‹æ ¼å­
    *   **æ¡Œé¢ç‰ˆ**: `min-width: 55px`, `min-height: 55px` - **[èª¿æ•´]** ï¼ˆåŸæœ¬ 60pxï¼‰
    *   **å¹³æ¿ç›´å‘**: `min-width: 45px`, `min-height: 45px` - **[èª¿æ•´]** ï¼ˆåŸæœ¬ 50pxï¼‰
    *   **æ‰‹æ©Ÿç›´å‘**: `min-width: 25px`, `min-height: 25px` - **[èª¿æ•´]** ï¼ˆåŸæœ¬ 28pxï¼‰
    *   **æ‰‹æ©Ÿæ©«å‘**: `min-width: 24px`, `min-height: 24px` - **[èª¿æ•´]** ï¼ˆåŸæœ¬ 25pxï¼‰

*   **`.ac-grid-item`** - åœ°åœ–ç‰©ä»¶ï¼ˆå…”å­ğŸ°ã€ç´…è˜¿è””ğŸ¥•ã€çŸ³é ­ğŸª¨ï¼‰
    *   **æ¡Œé¢ç‰ˆ**: `font-size: 42px` - **[èª¿æ•´]** ï¼ˆåŸæœ¬ 48pxï¼‰
    *   **å¹³æ¿ç›´å‘**: `font-size: 36px` - **[èª¿æ•´]** ï¼ˆåŸæœ¬ 40pxï¼‰
    *   **æ‰‹æ©Ÿç›´å‘**: `font-size: clamp(16px, 4vw, 24px)` - **[èª¿æ•´]** ï¼ˆåŸæœ¬ 18-24pxï¼‰
    *   **æ‰‹æ©Ÿæ©«å‘**: `font-size: clamp(16px, 3.5vh, 22px)` - **[èª¿æ•´]** ï¼ˆåŸæœ¬ 18-24pxï¼‰
    *   **æ³¨æ„**: æ­¤ font-size åƒ…æ§åˆ¶ emoji ç‰©ä»¶ï¼ˆğŸ¥•ğŸª¨ï¼‰çš„å¤§å°ï¼Œä¸å½±éŸ¿è§’è‰²åœ–ç‰‡

*  ### 3. æ©«å‘æ¨¡å¼ç‰ˆé¢å„ªåŒ– (Landscape Layout Optimization)

é‡å°æ‰‹æ©Ÿèˆ‡å¹³æ¿çš„æ©«å‘æ¨¡å¼ï¼Œæˆ‘å€‘å„ªåŒ–äº†å·¥å…·åˆ—çš„æ’åˆ—æ–¹å¼ï¼Œä»¥ç¯€çœå‚ç›´ç©ºé–“ä¸¦é¿å…æŒ‰éˆ•è¢«é®æ“‹ã€‚

**ç›¸é—œæª”æ¡ˆï¼š**
- `src/features/animal-commands/components/command-palette.css`
- `src/features/animal-commands/components/command-sequence.css`
- `src/features/animal-commands/animal-commands.css`

**ä¸»è¦èª¿æ•´ï¼š**

1.  **æŒ‡ä»¤æŒ‰éˆ• (Command Palette)**ï¼š
    -   æ”¹ç‚º **2æ¬„ (2 columns)** ç¶²æ ¼æ’åˆ—ã€‚
    -   CSS: `grid-template-columns: repeat(2, 1fr);`

2.  **æŒ‡ä»¤åºåˆ— (Command Sequence)**ï¼š
    -   æ”¹ç‚º **5æ¬„ (5 columns)** ç¶²æ ¼æ’åˆ—ã€‚
    -   CSS: `grid-template-columns: repeat(5, 1fr);`

3.  **iPad æ©«å‘é©é…**ï¼š
    -   èª¿æ•´äº†å³å´æ§åˆ¶é¢æ¿çš„å¯¬åº¦èˆ‡é«˜åº¦é™åˆ¶ã€‚
    -   **[èª¿æ•´]** ç¸®å°äº†å·¦å³é¢æ¿çš„é–“è· (`gap: 8px`)ï¼Œè®“æ“ä½œå€æ›´è²¼è¿‘åœ°åœ–ã€‚

**CSS ç¯„ä¾‹ (animal-commands.css)ï¼š**
```css
/* [å¹³æ¿èˆ‡æ¡Œé¢æ©«å‘] Tablet & Desktop Landscape */
@media (min-width: 768px) and (orientation: landscape) {
    .ac-game-layout {
        gap: 8px; /* [èª¿æ•´] ç¸®å°é–“è· */
        /* ... */
    }
}
```

### 4. å…¨ç«™ç¸®æ”¾é–å®š (Global Zoom Lock)

ç‚ºäº†é˜²æ­¢å°æœ‹å‹èª¤è§¸å°è‡´ç•«é¢ç¸®æ”¾ï¼Œæˆ‘å€‘æ¡ç”¨äº†é›™é‡é–å®šæ©Ÿåˆ¶ï¼š

1.  **HTML Meta Tag (`index.html`)**: `<meta name="viewport" ... user-scalable=no">` (é‡å°ç§»å‹•ç«¯ç€è¦½å™¨)
2.  **React Hook (`useGameLock`)**: åœ¨éŠæˆ²é é¢çµ„ä»¶ä¸­èª¿ç”¨æ­¤ Hookï¼Œå‹•æ…‹è¨­å®š `body` æ¨£å¼ã€‚

```typescript
// src/core/hooks/useGameLock.ts
export const useGameLock = () => {
    useEffect(() => {
        document.body.style.touchAction = 'none'; // ç¦æ­¢æ‰‹å‹¢
        document.body.style.overflow = 'hidden';  // ç¦æ­¢æ²å‹•
        // ... (é˜²æ­¢å¤šæŒ‡è§¸æ§ç¸®æ”¾)
    }, []);
};
```

### 5. CSS æ¶æ§‹èªªæ˜ (CSS Architecture)

ç‚ºäº†é¿å…æ¨£å¼è¡çªèˆ‡å±¤ç´šæ··äº‚ï¼Œæˆ‘å€‘æ¡ç”¨äº† **"Layout vs Component"** çš„åˆ†é›¢ç­–ç•¥ï¼š

*   **`animal-commands.css` (Layout Controller)**:
    *   è² è²¬æ‰€æœ‰ **ä½ˆå±€ (Layout)** è¨­å®šï¼š`display: grid/flex`, `width`, `height`, `gap`, `padding`ã€‚
    *   åŒ…å« **é è¨­ä½ˆå±€ (Default Layout)** èˆ‡ **éŸ¿æ‡‰å¼ä½ˆå±€ (Responsive Layout)**ã€‚
    *   **è¦å‰‡**ï¼šæ‰€æœ‰æ±ºå®š "å…ƒä»¶åœ¨å“ªè£¡" æˆ– "å…ƒä»¶å¤šå¤§" çš„ CSS éƒ½åœ¨é€™è£¡ã€‚

*   **Component CSS (`command-palette.css`, etc.)**:
    *   è² è²¬å…ƒä»¶ **å…§éƒ¨ (Internal)** æ¨£å¼ï¼šé¡è‰²ã€å­—é«”ã€é‚Šæ¡†ã€é™°å½±ã€æŒ‰éˆ•å…§éƒ¨æ’åˆ—ã€‚
    *   **è¦å‰‡**ï¼šçµ•ä¸åŒ…å« `display: flex/grid` (é™¤éæ˜¯æŒ‰éˆ•å…§éƒ¨çš„ icon æ’åˆ—), `width`, `height`, `margin`ã€‚

**ä¿®æ”¹æŒ‡å¼•ï¼š**
*   è‹¥è¦èª¿æ•´ **æŒ‰éˆ•é¡è‰²** æˆ– **å­—é«”å¤§å°** -> å» Component CSSã€‚
*   è‹¥è¦èª¿æ•´ **é¢æ¿å¯¬åº¦**ã€**æ’åˆ—æ–¹å¼ (Grid/Flex)** -> å» `animal-commands.css`ã€‚
    *   **è§’è‰²åœ–ç‰‡å¤§å°èª¿æ•´** - å…”å­/æé¾åœ–ç‰‡
        *   æª”æ¡ˆ: `src/features/animal-commands/components/GridMap.tsx`
        *   ä½ç½®: ç¬¬ 79-80 è¡Œçš„ `style` å±¬æ€§
        *   ç›®å‰è¨­å®š: `width: 'clamp(20px, 8vmin, 80px)'`, `height: 'clamp(20px, 8vmin, 80px)'`
        *   **é‡è¦**: ä½¿ç”¨ `vmin` å–®ä½ï¼ˆè¦–çª—å¯¬é«˜ä¸­è¼ƒå°è€…çš„ç™¾åˆ†æ¯”ï¼‰ï¼Œç¢ºä¿åœ¨ä¸åŒè¢å¹•å°ºå¯¸ä¸‹éƒ½èƒ½æ­£ç¢ºç¸®æ”¾
        *   èª¿æ•´æ–¹å¼:
            *   å¢å¤§è§’è‰²: å°‡ `80px` æ”¹ç‚ºæ›´å¤§çš„å€¼ï¼ˆä¾‹å¦‚ `100px` æˆ– `120px`ï¼‰
            *   ç¸®å°è§’è‰²: å°‡ `80px` æ”¹ç‚ºæ›´å°çš„å€¼ï¼ˆä¾‹å¦‚ `60px` æˆ– `50px`ï¼‰
            *   èª¿æ•´éŸ¿æ‡‰å¼å¤§å°: ä¿®æ”¹ `8vmin` ç‚ºæ›´å¤§ï¼ˆå¦‚ `10vmin`ï¼‰æˆ–æ›´å°ï¼ˆå¦‚ `6vmin`ï¼‰çš„å€¼
            *   æœ€å°å°ºå¯¸: èª¿æ•´ `20px` ä¾†æ§åˆ¶æœ€å°é¡¯ç¤ºå¤§å°

#### 4.4 æ§åˆ¶å€åŸŸèª¿æ•´

*   **`.ac-command-section`** - æŒ‡ä»¤å€å®¹å™¨ï¼ˆMode 3-4 ä½¿ç”¨ï¼‰
    *   `gap: 8px` - **[èª¿æ•´]** æŒ‡ä»¤å€å…§éƒ¨é–“è·ï¼ˆåŸæœ¬ 12pxï¼‰

*   **`.ac-sequence-wrapper`** - æŒ‡ä»¤åºåˆ—åŒ…è£å™¨
    *   `gap: 8px` - **[èª¿æ•´]** åºåˆ—èˆ‡æ§åˆ¶é¢æ¿é–“è·ï¼ˆåŸæœ¬ 12pxï¼‰

#### 4.5 æ•™å­¸æç¤ºèª¿æ•´

*   **`.ac-tutorial-bubble`** - æ•™å­¸æç¤ºæ°£æ³¡
    *   **æ¡Œé¢ç‰ˆ**: `font-size: 16px`, `padding: 12px 16px`, `margin-top: 12px`
    *   **æ‰‹æ©Ÿç›´å‘**: `font-size: 12px`, `padding: 4px 8px`, `margin-top: 4px` - **[èª¿æ•´]**
    *   **æ‰‹æ©Ÿæ©«å‘**: `font-size: 11px`, `padding: 2px 6px`, `margin-top: 2px` - **[èª¿æ•´]**

#### 4.6 éŸ¿æ‡‰å¼æ–·é» (Breakpoints)

*   **æ‰‹æ©Ÿç›´å‘**: `@media (orientation: portrait) and (max-width: 768px)`
*   **æ‰‹æ©Ÿæ©«å‘**: `@media (orientation: landscape) and (max-height: 500px)`
*   **å¹³æ¿ç›´å‘**: `@media (orientation: portrait) and (min-width: 769px) and (max-width: 1024px)`
*   **æ¡Œé¢ç‰ˆ**: `@media (min-width: 1025px)`

### 5. é¦–é  (HomePage) ä½ˆå±€èª¿æ•´

ä½æ–¼ `src/core/layout/layout.css`ï¼š

*   **`.home-game-grid`** - éŠæˆ²é¸å–®ç¶²æ ¼
    *   **é è¨­**: `max-width: 800px`, `gap: 16px`
    *   **iPad æ©«å‘**: `max-width: 640px` **[èª¿æ•´]**, `gap: 32px` **[èª¿æ•´]**, `padding: 0 48px` **[èª¿æ•´]**
    *   *èªªæ˜ï¼šç‚ºäº†é¿å…åœ¨ iPad æ©«å‘æ¨¡å¼ä¸‹å¡ç‰‡éå¤§é€ æˆé‡ç–Šï¼Œé™åˆ¶äº†æœ€å¤§å¯¬åº¦ä¸¦å¢åŠ äº†é–“è·ã€‚*

### 6. æ–‡å­—èˆ‡åœ–ç¤ºèª¿æ•´ (Text & Icons)

è‹¥éœ€è¦ä¿®æ”¹æŒ‰éˆ•ä¸Šçš„æ–‡å­—ï¼ˆå¦‚ã€Œå‰é€²ã€ã€ã€Œå·¦è½‰ã€ï¼‰æˆ–åœ–ç¤ºï¼ˆå¦‚ â¬†ï¸, â†©ï¸ï¼‰ï¼Œè«‹åƒè€ƒä»¥ä¸‹æª”æ¡ˆï¼š

*   **æ¨¡å¼ 1 & 2 (ç›´æ¥æ§åˆ¶)**:
    *   æª”æ¡ˆ: `src/features/animal-commands/components/DirectControlPanel.tsx`
    *   æœå°‹ `getIcon` å‡½å¼ä¿®æ”¹åœ–ç¤ºã€‚
    *   æœå°‹ `getLabel` å‡½å¼ä¿®æ”¹æ–‡å­—ã€‚

*   **æ¨¡å¼ 3 & 4 (æŒ‡ä»¤åºåˆ—)**:
    *   æª”æ¡ˆ: `src/features/animal-commands/components/CommandPalette.tsx`
    *   æœå°‹ `getIcon` å‡½å¼ä¿®æ”¹åœ–ç¤ºã€‚
    *   æœå°‹ `getLabel` å‡½å¼ä¿®æ”¹æ–‡å­—ã€‚

*   **ç¨‹å¼ç¢¼ä¸­å·²æ¨™è¨˜ `// [ä¿®æ”¹]` è¨»è§£æ–¹ä¾¿æœå°‹ã€‚**

> [!IMPORTANT]
> **æ³¨æ„ï¼š** `direct-control-panel.css` æª”æ¡ˆåº•éƒ¨æœ‰ `@media (max-width: 768px)` å€å¡Šï¼Œé€™æ˜¯é‡å°æ‰‹æ©Ÿèˆ‡å¹³æ¿çš„è¨­å®šã€‚å¦‚æœæ‚¨ä¿®æ”¹äº†ä¸Šæ–¹çš„æ•¸å€¼å»ç™¼ç¾æ‰‹æ©Ÿä¸Šæ²’è®ŠåŒ–ï¼Œè«‹æª¢æŸ¥åº•éƒ¨çš„é€™å€‹å€å¡Šï¼Œé€™è£¡çš„æ•¸å€¼æœƒè¦†è“‹ä¸Šæ–¹çš„è¨­å®šã€‚

#### 4.7 å¸¸è¦‹èª¿æ•´æƒ…å¢ƒ

**åœ°åœ–å¤ªå°**:
1. å¢åŠ  `.ac-grid-container` çš„ `max-width` å’Œ `max-height`
2. å¢åŠ  `.ac-grid-cell` çš„ `min-width` å’Œ `min-height`
3. å¢åŠ  `.ac-grid-item` çš„ `font-size`

**åœ°åœ–å¤ªå¤§ï¼ˆè¶…å‡ºè¢å¹•ï¼‰**:
1. æ¸›å°‘ `.ac-left-panel` çš„ `max-height`ï¼ˆç›´å‘ï¼‰æˆ– `max-width`ï¼ˆæ©«å‘ï¼‰
2. æ¸›å°‘ `.ac-grid-container` çš„ `max-width` å’Œ `max-height`
3. æ¸›å°‘ `.ac-grid-container` çš„ `padding`

**æ§åˆ¶å€å¤ªæ“ **:
1. å¢åŠ  `.ac-command-section` çš„ `gap`
2. å¢åŠ  `.ac-sequence-wrapper` çš„ `gap`
3. èª¿æ•´ `.ac-right-panel` çš„ `width`ï¼ˆæ¡Œé¢ç‰ˆï¼‰

---

## 5. é€šç”¨èª¿æ•´å»ºè­°

*   **éŸ¿æ‡‰å¼è¨­è¨ˆ (Responsive Design)**: æ‰€æœ‰éŠæˆ²éƒ½åŒ…å« `@media` æŸ¥è©¢ï¼Œé‡å°æ‰‹æ©Ÿç›´å¼ (Portrait) èˆ‡æ©«å¼ (Landscape) æœ‰ä¸åŒçš„æ¨£å¼è¨­å®šã€‚è‹¥éœ€èª¿æ•´æ‰‹æ©Ÿç‰ˆé¢ï¼Œè«‹æœå°‹ CSS æª”æ¡ˆä¸­çš„ `@media` å€å¡Šã€‚
*   **å­—é«”å–®ä½**: å»ºè­°ä½¿ç”¨ `rem` æˆ– `clamp()` å‡½æ•¸ï¼Œä»¥ç¢ºä¿åœ¨ä¸åŒè£ç½®ä¸Šéƒ½æœ‰è‰¯å¥½çš„é–±è®€é«”é©—ã€‚
*   **iOS PWA æ¸¬è©¦**: ä¿®æ”¹ safe area ç›¸é—œè¨­å®šå¾Œï¼Œå»ºè­°åœ¨å¯¦éš› iOS è£ç½®ä¸Šä»¥ PWA æ¨¡å¼æ¸¬è©¦ï¼Œç¢ºä¿å…§å®¹ä¸æœƒè¢«ç³»çµ± UI é®ä½ã€‚
*   **ä¸­æ–‡è¨»è§£**: æ‰€æœ‰ CSS æª”æ¡ˆä¸­ï¼Œå¯èª¿æ•´çš„åƒæ•¸éƒ½æœ‰ `[èª¿æ•´]` æ¨™è¨˜å’Œä¸­æ–‡èªªæ˜ï¼Œæ–¹ä¾¿å¿«é€Ÿå®šä½ã€‚

---

## 10. è‡ªç”±è‘—è‰²éŠæˆ² (Color Garden)

### æª”æ¡ˆä½ç½®ï¼š`src/features/color-garden`

#### 10.1 å¯èª¿æ•´åƒæ•¸ (`ColorGardenGame.tsx`)

**ç­†è§¸å¤§å°ç¯„åœ**ï¼ˆç¬¬ 13-16 è¡Œï¼‰
```typescript
const BRUSH_SIZE_MIN = 5;        // [å¯èª¿æ•´] ç­†è§¸æœ€å°å€¼
const BRUSH_SIZE_MAX = 80;       // [å¯èª¿æ•´] ç­†è§¸æœ€å¤§å€¼
const BRUSH_SIZE_DEFAULT = 15;   // [å¯èª¿æ•´] é è¨­ç­†è§¸å¤§å°
```

**èª¿è‰²ç›¤é¡è‰²**ï¼ˆç¬¬ 18-28 è¡Œï¼‰
```typescript
const PALETTE_COLORS = [
    '#FF4444', // ç´…è‰² - [å¯èª¿æ•´] ä¿®æ”¹é¡è‰²ä»£ç¢¼
    '#FF8C00', // æ©˜è‰²
    '#FFD700', // é»ƒè‰²
    '#4CAF50', // ç¶ è‰²
    '#2196F3', // è—è‰²
    '#9C27B0', // ç´«è‰²
    '#F48FB1', // ç²‰ç´…è‰²
    '#795548', // æ£•è‰²
    '#607D8B', // ç°è‰²
    '#000000', // é»‘è‰²
];
```

#### 10.2 UI å…ƒç´ å°ºå¯¸ (`color-garden.css`)

**èª¿è‰²ç›¤å°ºå¯¸**ï¼ˆç¬¬ 337-357 è¡Œï¼‰
```css
.cg-palette-popover {
    padding: 16px;              /* [å¯èª¿æ•´] èª¿è‰²ç›¤å…§è· */
    gap: 12px;                  /* [å¯èª¿æ•´] é¡è‰²æŒ‰éˆ•é–“è· */
    width: 160px;               /* [å¯èª¿æ•´] èª¿è‰²ç›¤å¯¬åº¦ */
}

.cg-palette-color {
    width: 55px;                /* [å¯èª¿æ•´] é¡è‰²æŒ‰éˆ•å¯¬åº¦ */
    height: 55px;               /* [å¯èª¿æ•´] é¡è‰²æŒ‰éˆ•é«˜åº¦ */
    border-radius: 10px;        /* [å¯èª¿æ•´] æŒ‰éˆ•åœ“è§’ */
    border: 3px solid rgba(0, 0, 0, 0.1);  /* [å¯èª¿æ•´] é‚Šæ¡†ç²—ç´° */
}

.cg-palette-color.selected {
    border: 4px solid white;    /* [å¯èª¿æ•´] é¸ä¸­ç‹€æ…‹é‚Šæ¡† */
    box-shadow: 0 0 0 3px #2196F3;  /* [å¯èª¿æ•´] é¸ä¸­ç‹€æ…‹å…‰æšˆ */
}
```

**ç­†è§¸/æ©¡çš®æ“¦æ»‘æ¡¿**ï¼ˆç¬¬ 389-417 è¡Œï¼‰
```css
.cg-slider-popover {
    padding: 16px 12px;         /* [å¯èª¿æ•´] æ»‘æ¡¿å®¹å™¨å…§è· */
    height: 200px;              /* [å¯èª¿æ•´] æ»‘æ¡¿é«˜åº¦ */
    width: 60px;                /* [å¯èª¿æ•´] æ»‘æ¡¿å¯¬åº¦ */
}

.cg-vertical-range {
    width: 12px;                /* [å¯èª¿æ•´] æ»‘æ¡¿è»Œé“å¯¬åº¦ */
    height: 100%;
}
```

**å·¥å…·åˆ—æŒ‰éˆ•**ï¼ˆç¬¬ 205-238 è¡Œï¼‰
```css
.cg-toolbar {
    width: 14%;                 /* [å¯èª¿æ•´] å·¥å…·åˆ—å¯¬åº¦ç™¾åˆ†æ¯” */
    min-width: 80px;            /* [å¯èª¿æ•´] å·¥å…·åˆ—æœ€å°å¯¬åº¦ */
    max-width: 140px;           /* [å¯èª¿æ•´] å·¥å…·åˆ—æœ€å¤§å¯¬åº¦ */
    padding: 12px 8px;          /* [å¯èª¿æ•´] å·¥å…·åˆ—å…§è· */
    gap: 8px;                   /* [å¯èª¿æ•´] æŒ‰éˆ•é–“è· */
    border-radius: 24px;        /* [å¯èª¿æ•´] å·¥å…·åˆ—åœ“è§’ */
    border: 2px solid #FFD54F;  /* [å¯èª¿æ•´] é‚Šæ¡†é¡è‰²èˆ‡ç²—ç´° */
}

.cg-tool-btn {
    width: 100%;                /* æŒ‰éˆ•å¯¬åº¦ */
    aspect-ratio: 1;            /* ä¿æŒæ­£æ–¹å½¢ */
    padding: 8px;               /* [å¯èª¿æ•´] æŒ‰éˆ•å…§è· */
    border-radius: 16px;        /* [å¯èª¿æ•´] æŒ‰éˆ•åœ“è§’ */
}

.cg-btn-small {
    width: 48%;                 /* [å¯èª¿æ•´] å°æŒ‰éˆ•å¯¬åº¦ï¼ˆiPad æ©«å¼ï¼‰ */
}
```

#### 10.3 éŸ¿æ‡‰å¼ä½ˆå±€

**iPad æ©«å¼ vs ç›´å¼**ï¼ˆç¬¬ 240-252 è¡Œï¼‰
```css
/* iPad æ©«å¼ï¼šå°æŒ‰éˆ•æ©«å‘æ’åˆ— */
.cg-toolbar-row {
    display: flex;
    gap: 8px;                   /* [å¯èª¿æ•´] æŒ‰éˆ•é–“è· */
}

/* ç›´å¼/æ‰‹æ©Ÿï¼šå°æŒ‰éˆ•å‚ç›´æ’åˆ— */
@media (max-width: 1023px), (orientation: portrait) {
    .cg-toolbar-row {
        flex-direction: column;
    }
    
    .cg-btn-small {
        width: 100%;            /* å…¨å¯¬é¡¯ç¤º */
    }
}
```

#### 10.4 åœ–ç‰‡é¸æ“‡å™¨ (`color-garden.css`)

**åœ–ç‰‡é¸æ“‡å™¨æ¨¡æ…‹æ¡†**ï¼ˆç¬¬ 463-514 è¡Œï¼‰
```css
.cg-image-selector-modal {
    max-width: 900px;           /* [å¯èª¿æ•´] æ¨¡æ…‹æ¡†æœ€å¤§å¯¬åº¦ */
    width: 90%;                 /* [å¯èª¿æ•´] æ¨¡æ…‹æ¡†å¯¬åº¦ç™¾åˆ†æ¯” */
    max-height: 80vh;           /* [å¯èª¿æ•´] æ¨¡æ…‹æ¡†æœ€å¤§é«˜åº¦ */
    padding: 24px;              /* [å¯èª¿æ•´] æ¨¡æ…‹æ¡†å…§è· */
    border-radius: 24px;        /* [å¯èª¿æ•´] æ¨¡æ…‹æ¡†åœ“è§’ */
}

.cg-image-grid {
    grid-template-columns: repeat(4, 1fr);  /* [å¯èª¿æ•´] ç¶²æ ¼æ¬„æ•¸ */
    gap: 16px;                  /* [å¯èª¿æ•´] åœ–ç‰‡é–“è· */
}

.cg-image-item {
    border-radius: 12px;        /* [å¯èª¿æ•´] åœ–ç‰‡å¡ç‰‡åœ“è§’ */
    padding: 8px;               /* [å¯èª¿æ•´] åœ–ç‰‡å¡ç‰‡å…§è· */
}

.cg-image-thumbnail {
    aspect-ratio: 1;            /* ä¿æŒæ­£æ–¹å½¢ */
    border-radius: 8px;         /* [å¯èª¿æ•´] ç¸®åœ–åœ“è§’ */
}
```

**åŒæ­¥æŒ‰éˆ•**ï¼ˆç¬¬ 475-493 è¡Œï¼‰
```css
.cg-image-selector-sync {
    padding: 8px 16px;          /* [å¯èª¿æ•´] åŒæ­¥æŒ‰éˆ•å…§è· */
    font-size: 0.9rem;          /* [å¯èª¿æ•´] åŒæ­¥æŒ‰éˆ•æ–‡å­—å¤§å° */
    border-radius: 12px;        /* [å¯èª¿æ•´] åŒæ­¥æŒ‰éˆ•åœ“è§’ */
    background: linear-gradient(to bottom, #64B5F6, #1E88E5);  /* [å¯èª¿æ•´] æŒ‰éˆ•æ¼¸å±¤è‰² */
}
```

#### 10.5 åœ–ç‰‡ç®¡ç†

**åœ–ç‰‡ä½ç½®**ï¼š`src/assets/images/color-garden/`

**è‡ªå‹•æƒæè¨­å®š**ï¼ˆ`config/images.ts`ï¼‰
```typescript
const imageModules = import.meta.glob('/src/assets/images/color-garden/*.png', { 
    eager: true, 
    import: 'default' 
});
```

**æ–°å¢åœ–ç‰‡æ­¥é©Ÿ**ï¼š
1. å°‡ PNG æª”æ¡ˆæ”¾åˆ° `/src/assets/images/color-garden/`
2. é»æ“Šåœ–ç‰‡é¸æ“‡å™¨çš„ã€ŒğŸ”„ åŒæ­¥ã€æŒ‰éˆ•æˆ–é‡æ–°æ•´ç†é é¢
3. æ–°åœ–ç‰‡æœƒè‡ªå‹•å‡ºç¾åœ¨é¸æ“‡å™¨ä¸­

**å»ºè­°åœ–ç‰‡è¦æ ¼**ï¼š
- æ ¼å¼ï¼šPNGï¼ˆæ”¯æ´é€æ˜èƒŒæ™¯ï¼‰
- å°ºå¯¸ï¼šè‡³å°‘ 1000x1000 åƒç´ 
- å…§å®¹ï¼šé»‘è‰²ç·šæ¢ï¼Œç™½è‰²æˆ–é€æ˜èƒŒæ™¯
- æª”æ¡ˆå¤§å°ï¼šå°æ–¼ 2MB

#### 10.6 å¸¸è¦‹èª¿æ•´å ´æ™¯

**å ´æ™¯ 1ï¼šç­†è§¸ç¯„åœå¤ªå°/å¤ªå¤§**
- ä¿®æ”¹ `BRUSH_SIZE_MIN` å’Œ `BRUSH_SIZE_MAX` å¸¸æ•¸
- ä¾‹å¦‚ï¼šæ”¹ç‚º `MIN = 3`, `MAX = 100` ä»¥æ“´å¤§ç¯„åœ

**å ´æ™¯ 2ï¼šèª¿è‰²ç›¤æŒ‰éˆ•å¤ªå°ï¼Œå°æœ‹å‹ä¸å¥½é»**
- å¢åŠ  `.cg-palette-color` çš„ `width` å’Œ `height`
- å¢åŠ  `.cg-palette-popover` çš„ `width` å’Œ `padding`

**å ´æ™¯ 3ï¼šæ»‘æ¡¿å¤ªçŸ­ï¼Œä¸å¥½èª¿æ•´**
- å¢åŠ  `.cg-slider-popover` çš„ `height`ï¼ˆä¾‹å¦‚æ”¹ç‚º `250px`ï¼‰
- å¢åŠ  `.cg-vertical-range` çš„ `width`ï¼ˆä¾‹å¦‚æ”¹ç‚º `16px`ï¼‰

**å ´æ™¯ 4ï¼šå·¥å…·åˆ—æŒ‰éˆ•å¤ªå°**
- å¢åŠ  `.cg-toolbar` çš„ `width` ç™¾åˆ†æ¯”æˆ– `max-width`
- å¢åŠ  `.cg-tool-btn` çš„ `padding`

**å ´æ™¯ 5ï¼šåœ–ç‰‡é¸æ“‡å™¨ä¸€è¡Œè¦é¡¯ç¤ºæ›´å¤š/æ›´å°‘åœ–ç‰‡**
- ä¿®æ”¹ `.cg-image-grid` çš„ `grid-template-columns`
- ä¾‹å¦‚ï¼š`repeat(3, 1fr)` æ”¹ç‚º 3 æ¬„ï¼Œ`repeat(5, 1fr)` æ”¹ç‚º 5 æ¬„

---
